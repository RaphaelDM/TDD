### Exercice TU-4 : Moteur de Règles Métier (Avancé)
**Objectif** : Tester un système avec règles configurables et chaînage

#### Description
Créez un moteur de règles pour évaluer des demandes de crédit bancaire.

#### Architecture
- `Rule` : interface pour une règle
- `RuleEngine` : évalue une séquence de règles
- `CreditApplication` : demande de crédit avec données client
- `RuleResult` : résultat d'évaluation (accepté/rejeté/en attente)

#### Règles métier à implémenter
1. **AgeRule** : 18-70 ans
2. **IncomeRule** : revenu > 3x mensualité
3. **CreditScoreRule** : score > 600
4. **DebtRatioRule** : ratio d'endettement < 40%
5. **EmploymentRule** : ancienneté > 6 mois
6. **ResidenceRule** : résidence stable > 1 an
7. **ExistingLoansRule** : max 3 crédits en cours
8. **BlacklistRule** : pas dans liste noire

#### Fonctionnalités
1. Ajouter/retirer des règles au moteur
2. Évaluer une demande (toutes les règles)
3. Évaluation en chaîne (stop à la première erreur)
4. Évaluation complète (toutes les règles même si échec)
5. Pondération des règles (score global)
6. Logs des évaluations
7. Export du rapport de décision
8. Règles conditionnelles (si X alors appliquer Y)

#### Tests à écrire (minimum 30)
- Test de chaque règle individuellement
- Tests de combinaisons de règles
- Tests de chaînage avec stop anticipé
- Tests d'évaluation complète
- Tests de pondération
- Tests de règles conditionnelles
- Tests avec données limites
- Tests de configuration dynamique du moteur
- Tests de rapport de décision
- Tests d'intégration (scénarios complets)

#### Challenges
- Architecture extensible (facile d'ajouter des règles)
- Tests de non-régression lors d'ajout de règles
- Tester l'ordre d'exécution des règles
- Mock des sources de données externes (blacklist, score crédit)